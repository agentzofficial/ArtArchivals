<script>
    const form = document.querySelector("form");
    const thankYou = document.getElementById("thank-you");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const formData = new FormData(form);
      const action = form.getAttribute("action");

      try {
        const response = await fetch(action, {
          method: "POST",
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        });

        if (response.ok) {
          form.reset();
          form.style.display = "none";
          thankYou.style.display = "block";
        } else {
          alert("There was an issue submitting the form. Please try again.");
        }
      } catch (error) {
        alert("Error sending form. Please check your connection.");
      }
    });
  </script>
  